jQuery.Redactor.prototype.alignment=function(){return{langs:{de:{align:"Ausrichtung","align-left":"Linksbündig","align-center":"Zentriert","align-right":"Rechtsbündig","align-justify":"Blocksatz"},en:{align:"Align","align-left":"Align Left","align-center":"Align Center","align-right":"Align Right","align-justify":"Align Justify"}},init:function(){var t=this,e={};e.left={title:t.lang.get("align-left"),func:t.alignment.setLeft},e.center={title:t.lang.get("align-center"),func:t.alignment.setCenter},e.right={title:t.lang.get("align-right"),func:t.alignment.setRight},e.justify={title:t.lang.get("align-justify"),func:t.alignment.setJustify};var i=this.button.add("alignment",this.lang.get("align"));this.button.setIcon(i,'<i class="fa fa-align-left"></i>'),this.button.addDropdown(i,e)},removeAlign:function(){this.block.removeClass("text-center"),this.block.removeClass("text-right"),this.block.removeClass("text-justify"),this.block.removeClass("text-left")},setLeft:function(){this.buffer.set(),this.alignment.removeAlign(),this.block.addClass("text-left")},setCenter:function(){this.buffer.set(),this.alignment.removeAlign(),this.block.addClass("text-center")},setRight:function(){this.buffer.set(),this.alignment.removeAlign(),this.block.addClass("text-right")},setJustify:function(){this.buffer.set(),this.alignment.removeAlign(),this.block.addClass("text-justify")}}},$.Redactor.prototype.anchorlink=function(){return{langs:{de:{anchorlink:"Ankerlink",anchorlink_linktext:"Linktext",anchorlink_anchor:"Anker",anchorlink_insert:"Einfügen",anchorlink_abort:"Abbrechen"},en:{anchorlink:"Anchorlink",anchorlink_linktext:"Linktext",anchorlink_anchor:"Anchor",anchorlink_insert:"Insert",anchorlink_abort:"Abort"}},getTemplate:function(){var t="";return t+='<div class="modal-section" id="redactor-modal-anchorlink">',""==this.selection.text()&&(t+="  <section>",t+='    <label for="anchorlink_linktext">'+this.lang.get("anchorlink_linktext")+"</label>",t+='    <input type="text" id="anchorlink_linktext">',t+="  </section>"),t+="  <section>",t+='    <label for="anchorlink_anchor">'+this.lang.get("anchorlink_anchor")+"</label>",t+='    <input type="text" id="anchorlink_anchor">',t+="  </section>",t+="  <section>",t+='    <button id="redactor-modal-button-action">'+this.lang.get("anchorlink_insert")+"</button>",t+='    <button id="redactor-modal-button-cancel">'+this.lang.get("anchorlink_abort")+"</button>",t+="  </section>",t+="</div>",String()+t},init:function(){var t=this.button.add("anchorlink",this.lang.get("anchorlink"));this.button.setIcon(t,'<i class="fa fa-link"></i>'),this.button.addCallback(t,this.anchorlink.show)},show:function(){this.modal.addTemplate("anchorlink",this.anchorlink.getTemplate()),this.modal.load("anchorlink",this.lang.get("anchorlink"),600),this.modal.getActionButton().on("click",this.anchorlink.set),this.modal.show(),setTimeout(function(){0!=$("#anchorlink_linktext").length?document.getElementById("anchorlink_linktext").focus():document.getElementById("anchorlink_anchor").focus()},1)},set:function(){var t=$("#anchorlink_linktext").val(),e=$("#anchorlink_anchor").val();this.modal.close();var i=this.selection.text();if(""!=i)t=i;this.insert.html('<a href="#'+e+'">'+t+"</a>")}}},$.Redactor.prototype.blockquote=function(){return{langs:{de:{blockquote:"Zitat"},en:{blockquote:"Quote"}},init:function(){var t=this.button.add("blockquote",this.lang.get("blockquote"));this.button.setIcon(t,'<i class="fa fa-quote-left"></i>'),this.button.addCallback(t,this.blockquote.set)},set:function(){this.block.format("blockquote")}}},$.Redactor.prototype.bold=function(){return{langs:{de:{bold:"Fett"},en:{bold:"Bold"}},init:function(){var t=this.button.add("bold",this.lang.get("bold"));this.button.setIcon(t,'<i class="fa fa-bold"></i>'),this.button.addCallback(t,this.bold.set)},set:function(){this.inline.format("bold")}}},$.Redactor.prototype.cleaner=function(){return{langs:{de:{cleaner:"Formatierungen entfernen"},en:{cleaner:"Remove formats"}},init:function(){var t=this.button.add("cleaner",this.lang.get("cleaner"));this.button.setIcon(t,'<i class="fa fa-eraser"></i>'),this.button.addCallback(t,this.cleaner.set)},set:function(){this.selection.isRedactor();if(this.selection.isRedactor()){this.inline.removeFormat(),this.inline.removeAllAttr(),this.inline.removeAllClass();var t=this.selection.html();t=t.replace(/(<([^>]+)>)/gi,""),this.buffer.set(),this.selection.replace(t),this.code.sync()}}}},$.Redactor.prototype.clips=function(){return{init:function(){if(this.opts.clips){var t=this.opts.clips,e=this,i={};$.each(t,function(t,n){i["s"+t]={title:n[0],func:function(){e.clips.set(n[1])}}});var n=this.button.add("clips","Clips");this.button.setIcon(n,'<i class="fa fa-th-large"></i>'),this.button.addDropdown(n,i)}},set:function(t){this.insert.html(t)}}},$.Redactor.prototype.deleted=function(){return{langs:{de:{deleted:"Durchgestrichen"},en:{deleted:"Strikethrough"}},init:function(){var t=this.button.add("deleted",this.lang.get("deleted"));this.button.setIcon(t,'<i class="fa fa-strikethrough"></i>'),this.button.addCallback(t,this.deleted.set)},set:function(){this.inline.format("deleted")}}},$.Redactor.prototype.emaillink=function(){return{langs:{de:{emaillink:"Emaillink",emaillink_linktext:"Linktext",emaillink_emailaddress:"Emailadresse",emaillink_insert:"Einfügen",emaillink_abort:"Abbrechen"},en:{emaillink:"Emaillink",emaillink_linktext:"Linktext",emaillink_emailaddress:"Emailaddress",emaillink_insert:"Insert",emaillink_abort:"Abort"}},getTemplate:function(){var t="";return t+='<div class="modal-section" id="redactor-modal-emaillink">',""==this.selection.text()&&(t+="  <section>",t+='    <label for="emaillink_linktext">'+this.lang.get("emaillink_linktext")+"</label>",t+='    <input type="text" id="emaillink_linktext">',t+="  </section>"),t+="  <section>",t+='    <label for="emaillink_emailaddress">'+this.lang.get("emaillink_emailaddress")+"</label>",t+='    <input type="text" id="emaillink_emailaddress">',t+="  </section>",t+="  <section>",t+='    <button id="redactor-modal-button-action">'+this.lang.get("emaillink_insert")+"</button>",t+='    <button id="redactor-modal-button-cancel">'+this.lang.get("emaillink_abort")+"</button>",t+="  </section>",t+="</div>",String()+t},init:function(){var t=this.button.add("emaillink",this.lang.get("emaillink"));this.button.setIcon(t,'<i class="fa fa-link"></i>'),this.button.addCallback(t,this.emaillink.show)},show:function(){this.modal.addTemplate("emaillink",this.emaillink.getTemplate()),this.modal.load("emaillink",this.lang.get("emaillink"),600),this.modal.getActionButton().on("click",this.emaillink.set),this.modal.show(),setTimeout(function(){0!=$("#emaillink_linktext").length?document.getElementById("emaillink_linktext").focus():document.getElementById("emaillink_emailaddress").focus()},1)},set:function(){var t=$("#emaillink_linktext").val(),e=$("#emaillink_emailaddress").val();this.modal.close();var i=this.selection.text();if(""!=i)t=i;this.insert.html('<a href="mailto:'+e+'">'+t+"</a>")}}},$.Redactor.prototype.externallink=function(){return{langs:{de:{externallink:"Externer Link",externallink_linktext:"Linktext",externallink_linkurl:"URL",externallink_insert:"Einfügen",externallink_abort:"Abbrechen"},en:{externallink:"External link",externallink_linktext:"Linktext",externallink_linkurl:"URL",externallink_insert:"Insert",externallink_abort:"Cancel"}},getTemplate:function(){var t="";return t+='<div class="modal-section" id="redactor-modal-externallink">',""==this.selection.text()&&(t+="  <section>",t+='    <label for="externallink_linktext">'+this.lang.get("externallink_linktext")+"</label>",t+='    <input type="text" id="externallink_linktext">',t+="  </section>"),t+="  <section>",t+='    <label for="externallink_linkurl">'+this.lang.get("externallink_linkurl")+"</label>",t+='    <input type="text" id="externallink_linkurl">',t+="  </section>",t+="  <section>",t+='    <button id="redactor-modal-button-action">'+this.lang.get("externallink_insert")+"</button>",t+='    <button id="redactor-modal-button-cancel">'+this.lang.get("externallink_abort")+"</button>",t+="  </section>",t+="</div>",String()+t},init:function(){var t=this.button.add("externallink",this.lang.get("externallink"));this.button.setIcon(t,'<i class="fa fa-link"></i>'),this.button.addCallback(t,this.externallink.show)},show:function(){this.modal.addTemplate("externallink",this.externallink.getTemplate()),this.modal.load("externallink",this.lang.get("externallink"),600),this.modal.getActionButton().on("click",this.externallink.set),this.modal.show(),setTimeout(function(){0!=$("#externallink_linktext").length?document.getElementById("externallink_linktext").focus():document.getElementById("externallink_linkurl").focus()},1)},set:function(){var t=$("#externallink_linktext").val(),e=$("#externallink_linkurl").val();this.modal.close();var i=this.selection.text();if(""!=i)t=i;this.insert.html('<a href="'+e+'" target="_blank">'+t+"</a>")}}},$.Redactor.prototype.fontcolor=function(){return{langs:{de:{fontcolor:"Schriftfarbe",fontcolor_remove:"Schriftfarbe entfernen"},en:{fontcolor:"Fontcolor",fontcolor_remove:"Remove fontcolor"}},init:function(){if(this.opts.fontcolor){var t=this.opts.fontcolor,e=this,i={};$.each(t,function(t,n){i["s"+t]={title:n[0],func:function(){e.fontcolor.set(n[1])}}}),i["s"+t.length]={title:this.lang.get("fontcolor_remove"),func:function(){e.fontcolor.remove()}};var n=this.button.add("fontcolor",this.lang.get("fontcolor"));this.button.setIcon(n,'<i class="fa fa-paint-brush"></i>'),this.button.addDropdown(n,i)}},set:function(t){this.inline.format("span","style","color: "+t+";")},remove:function(){this.inline.removeFormat()}}},$.Redactor.prototype.fontfamily=function(){return{langs:{de:{fontfamily:"Schriftart",fontfamily_remove:"Schriftart entfernen"},en:{fontfamily:"Fontfamily",fontfamily_remove:"Remove fontfamily"}},init:function(){if(this.opts.fontfamily){var t=this.opts.fontfamily,e=this,i={};$.each(t,function(t,n){i["s"+t]={title:n,func:function(){e.fontfamily.set(n)}}}),i["s"+t.length]={title:this.lang.get("fontfamily_remove"),func:function(){e.fontfamily.remove()}};var n=this.button.add("fontfamily",this.lang.get("fontfamily"));this.button.setIcon(n,'<i class="fa fa-font"></i>'),this.button.addDropdown(n,i)}},set:function(t){this.inline.format("span","style","font-family:"+t+";")},remove:function(){this.inline.removeStyleRule("font-family")}}},$.Redactor.prototype.fontsize=function(){return{langs:{de:{fontsize:"Schriftgrösse",fontsize_remove:"Schriftgrösse entfernen"},en:{fontsize:"Fontsize",fontsize_remove:"Remove fontsize"}},init:function(){if(this.opts.fontsize){var t=this.opts.fontsize,e=this,i={};$.each(t,function(t,n){i["s"+t]={title:n,func:function(){e.fontsize.set(n)}}}),i["s"+t.length]={title:this.lang.get("fontsize_remove"),func:function(){e.fontsize.remove()}};var n=this.button.add("fontsize",this.lang.get("fontsize"));this.button.setIcon(n,'<i class="fa fa-text-height"></i>'),this.button.addDropdown(n,i)}},set:function(t){this.inline.format("span","style","font-size: "+t+";")},remove:function(){this.inline.removeStyleRule("font-size")}}},$.Redactor.prototype.fullscreen=function(){return{langs:{de:{fullscreen:"Vollbild"},en:{fullscreen:"Fullscreen"}},init:function(){this.fullscreen.isOpen=!1;var t=this.button.add("fullscreen",this.lang.get("fullscreen"));this.button.setIcon(t,'<i class="fa fa-expand"></i>'),this.button.addCallback(t,this.fullscreen.toggle),this.opts.fullscreen&&this.fullscreen.toggle()},enable:function(){this.fullscreen.isOpened=!1,this.button.setActive("fullscreen"),this.fullscreen.isOpen=!0,this.opts.fullscreen||this.selection.save(),this.opts.toolbarExternal&&(this.fullscreen.toolcss={},this.fullscreen.boxcss={},this.fullscreen.toolcss.width=this.$toolbar.css("width"),this.fullscreen.toolcss.top=this.$toolbar.css("top"),this.fullscreen.toolcss.position=this.$toolbar.css("position"),this.fullscreen.boxcss.top=this.$box.css("top")),this.fullscreen.height=this.core.editor().height(),this.opts.maxHeight&&this.core.editor().css("max-height",""),this.opts.minHeight&&this.core.editor().css("min-height",""),this.$fullscreenPlaceholder||(this.$fullscreenPlaceholder=$("<div/>")),this.$fullscreenPlaceholder.insertAfter(this.$box),this.core.box().appendTo(document.body),this.core.box().addClass("redactor-box-fullscreen"),$("body").addClass("redactor-body-fullscreen"),$("body, html").css("overflow","hidden"),this.fullscreen.resize(),this.opts.fullscreen||this.selection.restore(),this.toolbar.observeScrollDisable(),$(window).on("resize.redactor-plugin-fullscreen",$.proxy(this.fullscreen.resize,this)),$(document).scrollTop(0,0);var t=this;setTimeout(function(){t.fullscreen.isOpened=!0},10)},disable:function(){this.button.setInactive("fullscreen"),this.fullscreen.isOpened=void 0,this.fullscreen.isOpen=!1,this.selection.save(),$(window).off("resize.redactor-plugin-fullscreen"),$("body, html").css("overflow",""),this.core.box().insertBefore(this.$fullscreenPlaceholder),this.$fullscreenPlaceholder.remove(),this.core.box().removeClass("redactor-box-fullscreen").css({width:"auto",height:"auto"}),this.core.box().removeClass("redactor-box-fullscreen"),this.opts.toolbarExternal&&(this.core.box().css("top",this.fullscreen.boxcss.top),this.core.toolbar().css({width:this.fullscreen.toolcss.width,top:this.fullscreen.toolcss.top,position:this.fullscreen.toolcss.position})),this.opts.minHeight&&this.core.editor().css("minHeight",this.opts.minHeight),this.opts.maxHeight&&this.core.editor().css("maxHeight",this.opts.maxHeight),this.core.editor().css("height","auto"),this.selection.restore()},toggle:function(){return this.fullscreen.isOpen?this.fullscreen.disable():this.fullscreen.enable()},resize:function(){if(this.fullscreen.isOpen){var t=this.button.toolbar().height(),e=parseInt(this.core.editor().css("padding-top"))+parseInt(this.core.editor().css("padding-bottom")),i=$(window).height()-t-e;this.core.box().width($(window).width()).height(i),this.opts.toolbarExternal&&(this.core.toolbar().css({top:"0px",position:"absolute",width:"100%"}),this.core.box().css("top",t+"px")),this.core.editor().height(i)}}}},$.Redactor.prototype.groupheading=function(){return{langs:{de:{groupheading:"Überschrift",groupheading_1:"Überschrift 1",groupheading_2:"Überschrift 2",groupheading_3:"Überschrift 3",groupheading_4:"Überschrift 4",groupheading_5:"Überschrift 5",groupheading_6:"Überschrift 6"},en:{groupheading:"Heading",groupheading_1:"Heading 1",groupheading_2:"Heading 2",groupheading_3:"Heading 3",groupheading_4:"Heading 4",groupheading_5:"Heading 5",groupheading_6:"Heading 6"}},init:function(){if(this.opts.groupheading){var t=this.opts.groupheading,e=this,i={};-1!=t.indexOf("1")&&(i.groupheading1={title:e.lang.get("groupheading_1"),func:e.groupheading.setGroupheading1}),-1!=t.indexOf("2")&&(i.groupheading2={title:e.lang.get("groupheading_2"),func:e.groupheading.setGroupheading2}),-1!=t.indexOf("3")&&(i.groupheading3={title:e.lang.get("groupheading_3"),func:e.groupheading.setGroupheading3}),-1!=t.indexOf("4")&&(i.groupheading4={title:e.lang.get("groupheading_4"),func:e.groupheading.setGroupheading4}),-1!=t.indexOf("5")&&(i.groupheading5={title:e.lang.get("groupheading_5"),func:e.groupheading.setGroupheading5}),-1!=t.indexOf("6")&&(i.groupheading6={title:e.lang.get("groupheading_6"),func:e.groupheading.setGroupheading6});var n=this.button.add("groupheading",this.lang.get("groupheading"));this.button.setIcon(n,'<i class="fa fa-header"></i>'),this.button.addDropdown(n,i)}},setGroupheading1:function(){this.block.format("h1")},setGroupheading2:function(){this.block.format("h2")},setGroupheading3:function(){this.block.format("h3")},setGroupheading4:function(){this.block.format("h4")},setGroupheading5:function(){this.block.format("h5")},setGroupheading6:function(){this.block.format("h6")}}},$.Redactor.prototype.grouplink=function(){return{langs:{de:{grouplink:"Link",grouplink_email:"Emaillink",grouplink_email_emailaddress:"Emailadresse",grouplink_external:"Externer Link",grouplink_external_url:"URL",grouplink_internal:"Interner Link",grouplink_media:"Media Link",grouplink_telephone:"Telefonlink",grouplink_telephone_telephonenumber:"Telefonnummer",grouplink_anchor:"Ankerlink",grouplink_anchor_anchor:"Anker",grouplink_grouplinktext:"Linktext",grouplink_insert:"Einfügen",grouplink_abort:"Abbrechen"},en:{grouplink:"Link",grouplink_email:"Emaillink",grouplink_email_emailaddress:"Emailaddress",grouplink_external:"External link",grouplink_external_url:"URL",grouplink_internal:"Internal link",grouplink_media:"Media link",grouplink_telephone:"Telephonelink",grouplink_telephone_telephonenumber:"Telephonenumber",grouplink_anchor:"Anchorlink",grouplink_anchor_anchor:"Anchor",grouplink_grouplinktext:"Linktext",grouplink_insert:"Insert",grouplink_abort:"Abort"}},init:function(){if(this.opts.grouplink){var t=this.opts.grouplink,e=this,i={};-1!=t.indexOf("email")&&(i.email={title:e.lang.get("grouplink_email"),func:e.grouplink.setEmail}),-1!=t.indexOf("external")&&(i.external={title:e.lang.get("grouplink_external"),func:e.grouplink.setExternal}),-1!=t.indexOf("internal")&&(i.internal={title:e.lang.get("grouplink_internal"),func:e.grouplink.setInternal}),-1!=t.indexOf("media")&&(i.media={title:e.lang.get("grouplink_media"),func:e.grouplink.setMedia}),-1!=t.indexOf("telephone")&&(i.telephone={title:e.lang.get("grouplink_telephone"),func:e.grouplink.setTelephone}),-1!=t.indexOf("anchor")&&(i.anchor={title:e.lang.get("grouplink_anchor"),func:e.grouplink.setAnchor});var n=this.button.add("grouplink",this.lang.get("grouplink"));this.button.setIcon(n,'<i class="fa fa-link"></i>'),this.button.addDropdown(n,i)}},getEmailTemplate:function(){var t="";return t+='<div class="modal-section" id="redactor-modal-emailgrouplink">',""==this.selection.text()&&(t+="  <section>",t+='    <label for="emailgrouplink_grouplinktext">'+this.lang.get("grouplink_grouplinktext")+"</label>",t+='    <input type="text" id="emailgrouplink_grouplinktext">',t+="  </section>"),t+="  <section>",t+='    <label for="emailgrouplink_emailaddress">'+this.lang.get("grouplink_email_emailaddress")+"</label>",t+='    <input type="text" id="emailgrouplink_emailaddress">',t+="  </section>",t+="  <section>",t+='    <button id="redactor-modal-button-action">'+this.lang.get("grouplink_insert")+"</button>",t+='    <button id="redactor-modal-button-cancel">'+this.lang.get("grouplink_abort")+"</button>",t+="  </section>",t+="</div>",String()+t},getTelephoneTemplate:function(){var t="";return t+='<div class="modal-section" id="redactor-modal-telephonegrouplink">',""==this.selection.text()&&(t+="  <section>",t+='    <label for="telephonegrouplink_grouplinktext">'+this.lang.get("grouplink_grouplinktext")+"</label>",t+='    <input type="text" id="telephonegrouplink_grouplinktext">',t+="  </section>"),t+="  <section>",t+='    <label for="telephonegrouplink_telephonenumber">'+this.lang.get("grouplink_telephone_telephonenumber")+"</label>",t+='    <input type="text" id="telephonegrouplink_telephonenumber">',t+="  </section>",t+="  <section>",t+='    <button id="redactor-modal-button-action">'+this.lang.get("grouplink_insert")+"</button>",t+='    <button id="redactor-modal-button-cancel">'+this.lang.get("grouplink_abort")+"</button>",t+="  </section>",t+="</div>",String()+t},getAnchorTemplate:function(){var t="";return t+='<div class="modal-section" id="redactor-modal-anchorgrouplink">',""==this.selection.text()&&(t+="  <section>",t+='    <label for="anchorgrouplink_grouplinktext">'+this.lang.get("grouplink_grouplinktext")+"</label>",t+='    <input type="text" id="anchorgrouplink_grouplinktext">',t+="  </section>"),t+="  <section>",t+='    <label for="anchorgrouplink_anchor">'+this.lang.get("grouplink_anchor_anchor")+"</label>",t+='    <input type="text" id="anchorgrouplink_anchor">',t+="  </section>",t+="  <section>",t+='    <button id="redactor-modal-button-action">'+this.lang.get("grouplink_insert")+"</button>",t+='    <button id="redactor-modal-button-cancel">'+this.lang.get("grouplink_abort")+"</button>",t+="  </section>",t+="</div>",String()+t},getExternalTemplate:function(){var t="";return t+='<div class="modal-section" id="redactor-modal-externalgrouplink">',""==this.selection.text()&&(t+="  <section>",t+='    <label for="externalgrouplink_grouplinktext">'+this.lang.get("grouplink_grouplinktext")+"</label>",t+='    <input type="text" id="externalgrouplink_grouplinktext">',t+="  </section>"),t+="  <section>",t+='    <label for="externalgrouplink_grouplinkurl">'+this.lang.get("grouplink_external_url")+"</label>",t+='    <input type="text" id="externalgrouplink_grouplinkurl">',t+="  </section>",t+="  <section>",t+='    <button id="redactor-modal-button-action">'+this.lang.get("grouplink_insert")+"</button>",t+='    <button id="redactor-modal-button-cancel">'+this.lang.get("grouplink_abort")+"</button>",t+="  </section>",t+="</div>",String()+t},setEmail:function(){this.modal.addTemplate("grouplink",this.grouplink.getEmailTemplate()),this.modal.load("grouplink",this.lang.get("grouplink_email"),600),this.modal.getActionButton().on("click",this.grouplink.insertEmail),this.modal.show(),setTimeout(function(){0!=$("#emailgrouplink_grouplinktext").length?document.getElementById("emailgrouplink_grouplinktext").focus():document.getElementById("emailgrouplink_emailaddress").focus()},1)},setTelephone:function(){this.modal.addTemplate("grouplink",this.grouplink.getTelephoneTemplate()),this.modal.load("grouplink",this.lang.get("grouplink_telephone"),600),this.modal.getActionButton().on("click",this.grouplink.insertTelephone),this.modal.show(),setTimeout(function(){0!=$("#telephonegrouplink_grouplinktext").length?document.getElementById("telephonegrouplink_grouplinktext").focus():document.getElementById("telephonegrouplink_telephonenumber").focus()},1)},setAnchor:function(){this.modal.addTemplate("grouplink",this.grouplink.getAnchorTemplate()),this.modal.load("grouplink",this.lang.get("grouplink_anchor"),600),this.modal.getActionButton().on("click",this.grouplink.insertAnchor),this.modal.show(),setTimeout(function(){0!=$("#anchorgrouplink_grouplinktext").length?document.getElementById("anchorgrouplink_grouplinktext").focus():document.getElementById("anchorgrouplink_anchor").focus()},1)},setExternal:function(){this.modal.addTemplate("grouplink",this.grouplink.getExternalTemplate()),this.modal.load("grouplink",this.lang.get("grouplink_external"),600),this.modal.getActionButton().on("click",this.grouplink.insertExternal),this.modal.show(),setTimeout(function(){0!=$("#externalgrouplink_grouplinktext").length?document.getElementById("externalgrouplink_grouplinktext").focus():document.getElementById("externalgrouplink_grouplinkurl").focus()},1)},setInternal:function(){var t=this,e=openLinkMap("","&clang="+t.opts.clang_id);$(e).on("rex:selectLink",function(i,n,o){i.preventDefault(),e.close(),t.grouplink.insertInternal(n,o)})},setMedia:function(){var t=this,e=openMediaPool("redactor_mediagrouplink");$(e).on("rex:selectMedia",function(i,n){i.preventDefault(),e.close(),t.grouplink.insertMedia(n)})},insertEmail:function(){var t=$("#emailgrouplink_grouplinktext").val(),e=$("#emailgrouplink_emailaddress").val();this.modal.close();var i=this.selection.text();if(""!=i)t=i;this.insert.html('<a href="mailto:'+e+'">'+t+"</a>")},insertTelephone:function(){var t=$("#telephonegrouplink_grouplinktext").val(),e=$("#telephonegrouplink_telephonenumber").val();this.modal.close();var i=this.selection.text();if(""!=i)t=i;this.insert.html('<a href="tel:'+e+'">'+t+"</a>")},insertAnchor:function(){var t=$("#anchorgrouplink_grouplinktext").val(),e=$("#anchorgrouplink_anchor").val();this.modal.close();var i=this.selection.text();if(""!=i)t=i;this.insert.html('<a href="#'+e+'">'+t+"</a>")},insertExternal:function(){var t=$("#externalgrouplink_grouplinktext").val(),e=$("#externalgrouplink_grouplinkurl").val();this.modal.close();var i=this.selection.text();if(""!=i)t=i;this.insert.html('<a href="'+e+'" target="_blank">'+t+"</a>")},insertInternal:function(t,e){var i=this.selection.text();if(""!=i)var e=i;this.insert.html('<a href="'+t+'">'+e+"</a>")},insertMedia:function(t){var e=this.selection.text();if(""!=e)i=e;else var i=t;this.insert.html('<a href="/media/'+t+'">'+i+"</a>")}}},$.Redactor.prototype.grouplist=function(){return{langs:{de:{grouplist:"Liste",grouplist_unorderedlist:"Unsortierte Liste",grouplist_orderedlist:"Sortierte Liste",grouplist_indent:"Einzug",grouplist_outdent:"Negativer Einzug"},en:{grouplist:"List",grouplist_unorderedlist:"Unordered list",grouplist_orderedlist:"Ordered List",grouplist_indent:"Indent",grouplist_outdent:"Negative indent"}},init:function(){if(this.opts.grouplist){var t=this.opts.grouplist,e=this,i={};-1!=t.indexOf("unorderedlist")&&(i.unorderedlist={title:e.lang.get("grouplist_unorderedlist"),func:e.grouplist.setUnorderedlist}),-1!=t.indexOf("orderedlist")&&(i.orderedlist={title:e.lang.get("grouplist_orderedlist"),func:e.grouplist.setOrderedlist}),-1!=t.indexOf("indent")&&(i.indent={title:e.lang.get("grouplist_indent"),func:e.grouplist.setIndent}),-1!=t.indexOf("outdent")&&(i.outdent={title:e.lang.get("grouplist_outdent"),func:e.grouplist.setOutdent});var n=this.button.add("grouplist",this.lang.get("grouplist"));this.button.setIcon(n,'<i class="fa fa-list"></i>'),this.button.addDropdown(n,i)}},setUnorderedlist:function(){this.list.toggle("unorderedlist")},setOrderedlist:function(){this.list.toggle("orderedlist")},setIndent:function(){this.indent.increase()},setOutdent:function(){this.indent.decrease()}}},$.Redactor.prototype.heading1=function(){return{langs:{de:{heading1:"Überschrift 1"},en:{heading1:"Header 1"}},init:function(){var t=this.button.add("heading1",this.lang.get("heading1"));this.button.setIcon(t,'<i class="fa fa-header"></i>'),this.button.addCallback(t,this.heading1.set)},set:function(){this.block.format("h1")}}},$.Redactor.prototype.heading2=function(){return{langs:{de:{heading2:"Überschrift 2"},en:{heading2:"Header 2"}},init:function(){var t=this.button.add("heading2",this.lang.get("heading2"));this.button.setIcon(t,'<i class="fa fa-header"></i>'),this.button.addCallback(t,this.heading2.set)},set:function(){this.block.format("h2")}}},$.Redactor.prototype.heading3=function(){return{langs:{de:{heading3:"Überschrift 3"},en:{heading3:"Header 3"}},init:function(){var t=this.button.add("heading3",this.lang.get("heading3"));this.button.setIcon(t,'<i class="fa fa-header"></i>'),this.button.addCallback(t,this.heading3.set)},set:function(){this.block.format("h3")}}},$.Redactor.prototype.heading4=function(){return{langs:{de:{heading4:"Überschrift 4"},en:{heading4:"Header 4"}},init:function(){var t=this.button.add("heading4",this.lang.get("heading4"));this.button.setIcon(t,'<i class="fa fa-header"></i>'),this.button.addCallback(t,this.heading4.set)},set:function(){this.block.format("h4")}}},$.Redactor.prototype.heading5=function(){return{langs:{de:{heading5:"Überschrift 5"},en:{heading5:"Header 5"}},init:function(){var t=this.button.add("heading5",this.lang.get("heading5"));this.button.setIcon(t,'<i class="fa fa-header"></i>'),this.button.addCallback(t,this.heading5.set)},set:function(){this.block.format("h5")}}},$.Redactor.prototype.heading6=function(){return{langs:{de:{heading6:"Überschrift 6"},en:{heading6:"Header 6"}},init:function(){var t=this.button.add("heading6",this.lang.get("heading6"));this.button.setIcon(t,'<i class="fa fa-header"></i>'),this.button.addCallback(t,this.heading6.set)},set:function(){this.block.format("h6")}}},$.Redactor.prototype.horizontalrule=function(){return{langs:{de:{horizontalrule:"Linie"},en:{horizontalrule:"Line"}},init:function(){var t=this.button.add("horizontalrule",this.lang.get("horizontalrule"));this.button.setIcon(t,'<i class="fa fa-minus"></i>'),this.button.addCallback(t,this.horizontalrule.set)},set:function(){this.insert.html("<hr>")}}},$.Redactor.prototype.internallink=function(){return{langs:{de:{internallink:"Interner Link"},en:{internallink:"Internal link"}},init:function(){var t=this.button.add("internallink",this.lang.get("internallink"));this.button.setIcon(t,'<i class="fa fa-link"></i>'),this.button.addCallback(t,this.internallink.show)},show:function(){var t=this,e=openLinkMap("","&clang="+t.opts.clang_id);$(e).on("rex:selectLink",function(i,n,o){i.preventDefault(),e.close(),t.internallink.set(n,o)})},set:function(t,e){var i=this.selection.text();if(""!=i)var e=i;this.insert.html('<a href="'+t+'">'+e+"</a>")}}},$.Redactor.prototype.italic=function(){return{langs:{de:{italic:"Kursiv"},en:{italic:"Italic"}},init:function(){var t=this.button.add("italic",this.lang.get("italic"));this.button.setIcon(t,'<i class="fa fa-italic"></i>'),this.button.addCallback(t,this.italic.set)},set:function(){this.inline.format("italic")}}},function(t){t.Redactor.prototype.limiter=function(){return{init:function(){this.opts.limiter&&this.core.editor().on("keydown.redactor-plugin-limiter",t.proxy(function(t){var e=t.which,i=t.ctrlKey||t.metaKey;if(!(e===this.keyCode.BACKSPACE||e===this.keyCode.DELETE||e===this.keyCode.ESC||e===this.keyCode.SHIFT||i&&65===e||i&&82===e||i&&116===e)){var n=this.core.editor().text();return!((n=n.replace(/\u200B/g,"")).length>=this.opts.limiter)&&void 0}},this))}}}}(jQuery),$.Redactor.prototype.media=function(){return{langs:{de:{media:"Media einfügen"},en:{media:"Insert media"}},init:function(){var t=this.button.add("media",this.lang.get("media"));this.button.setIcon(t,'<i class="fa fa-picture-o"></i>'),this.button.addCallback(t,this.media.show)},show:function(){var t=this,e=openMediaPool("redactor_media");$(e).on("rex:selectMedia",function(i,n){i.preventDefault(),e.close(),t.media.set(n)})},set:function(t){this.insert.html('<img src="index.php?rex_media_type=redactorImage&rex_media_file='+t+'" alt="">')}}},$.Redactor.prototype.medialink=function(){return{langs:{de:{medialink:"Media Link"},en:{medialink:"Media link"}},init:function(){var t=this.button.add("medialink",this.lang.get("medialink"));this.button.setIcon(t,'<i class="fa fa-link"></i>'),this.button.addCallback(t,this.medialink.show)},show:function(){var t=this,e=openMediaPool("redactor_medialink");$(e).on("rex:selectMedia",function(i,n){i.preventDefault(),e.close(),t.medialink.set(n)})},set:function(t){var e=this.selection.text();if(""!=e)i=e;else var i=t;this.insert.html('<a href="/media/'+t+'">'+i+"</a>")}}},$.Redactor.prototype.orderedlist=function(){return{langs:{de:{orderedlist:"Sortierte Liste"},en:{orderedlist:"Ordered list"}},init:function(){var t=this.button.add("orderedlist",this.lang.get("orderedlist"));this.button.setIcon(t,'<i class="fa fa-list-ol"></i>'),this.button.addCallback(t,this.orderedlist.set)},set:function(){this.list.toggle("orderedlist")}}},$.Redactor.prototype.paragraph=function(){return{langs:{de:{paragraph:"Paragraph"},en:{paragraph:"Paragraph"}},init:function(){var t=this.button.add("paragraph",this.lang.get("paragraph"));this.button.setIcon(t,'<i class="fa fa-paragraph"></i>'),this.button.addCallback(t,this.paragraph.set)},set:function(){this.block.format("p")}}},function(t){t.Redactor.prototype.properties=function(){return{langs:{de:{properties:"Eigenschaften",properties_save:"Speichern",properties_abort:"Abbrechen"},en:{properties:"Properties",properties_save:"Save",properties_abort:"Abort"}},block:!1,labelStyle:{position:"absolute",padding:"2px 5px","line-height":1,"border-radius":"5px","font-size":"10px",color:"rgba(255, 255, 255, .9)","z-index":99},getTemplate:function(){return String()+'<div class="modal-section" id="redactor-modal-properties"><section><label id="modal-properties-id-label">ID</label><input type="text" id="modal-properties-id" /></section><section><label id="modal-properties-class-label">Class</label><input type="text" id="modal-properties-class" /></section><section><button id="redactor-modal-button-action">'+this.lang.get("properties_save")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("properties_abort")+"</button></section></div>"},setup:function(){this.opts.properties=void 0===this.opts.properties?{}:this.opts.properties,this.opts.properties.id=void 0===this.opts.properties.id||this.opts.properties.id,this.opts.properties.classname=void 0===this.opts.properties.classname||this.opts.properties.classname,this.opts.properties.show=void 0!==this.opts.properties.show&&this.opts.properties.show},init:function(){if("pre"!==this.opts.type&&"inline"!==this.opts.type){this.properties.setup(),this.properties.createLabelId(this.properties.labelStyle),this.properties.createLabelClass(this.properties.labelStyle),this.properties.setEvents();var t=this.button.add("properties",this.lang.get("properties"));this.button.setIcon(t,'<i class="fa fa-cog"></i>'),this.button.addCallback(t,this.properties.show)}},show:function(){this.modal.addTemplate("properties",this.properties.getTemplate()),this.modal.load("properties",this.lang.get("properties"),600),this.modal.getActionButton().text(this.lang.get("properties_save")).on("click",this.properties.save),this.properties.showId(),this.properties.showClass(),this.modal.show()},createLabelId:function(e){(this.opts.properties.show||this.opts.properties.id)&&(this.properties.labelId=t("<span />").attr("id","redactor-properties-label-id-"+this.uuid).attr("title","ID").hide(),this.properties.labelId.css(e).css("background","rgba(229, 57, 143, .7)"),t("body").append(this.properties.labelId))},createLabelClass:function(e){(this.opts.properties.show||this.opts.properties.classname)&&(this.properties.labelClass=t("<span />").attr("id","redactor-properties-label-class-"+this.uuid).attr("title","class").hide(),this.properties.labelClass.css(e).css("background","rgba(61, 121, 242, .7)"),t("body").append(this.properties.labelClass))},setEvents:function(){this.core.element().on("click.callback.redactor",this.properties.showOnClick),t(document).on("mousedown.redactor-properties",t.proxy(this.properties.hideOnBlur,this)),this.core.element().on("destroy.callback.redactor",t.proxy(function(){t(document).off(".redactor-properties")},this))},showId:function(){this.opts.properties.id?(t("#modal-properties-id-label").show(),t("#modal-properties-id").show().val(t(this.properties.block).attr("id"))):t("#modal-properties-id, #modal-properties-id-label").hide()},showClass:function(){this.opts.properties.classname?(t("#modal-properties-class-label").show(),t("#modal-properties-class").show().val(t(this.properties.block).attr("class"))):t("#modal-properties-class, #modal-properties-class-label").hide()},save:function(){if(this.opts.properties.id){var e=t("#modal-properties-id").val();void 0===e||""===e?this.block.removeAttr("id",this.properties.block):this.block.replaceAttr("id",e,this.properties.block)}if(this.opts.properties.classname){var i=t("#modal-properties-class").val();void 0===i||""===i?this.block.removeAttr("class",this.properties.block):this.block.replaceClass(i,this.properties.block)}this.modal.close(),this.properties.showOnClick(!1)},showOnClick:function(e){!1!==e&&e.preventDefault();var i=void 0!==this.fullscreen&&this.fullscreen.isOpen?1052:99;if(this.properties.block=this.selection.block(),this.properties.block&&this.utils.isRedactorParent(this.properties.block)&&!this.utils.isCurrentOrParent(["figure","li"])){var n=t(this.properties.block).offset(),o=this.properties.showOnClickClass(n,i);this.properties.showOnClickId(n,i,o)}},showOnClickId:function(e,i,n){var o=t(this.properties.block).attr("id");this.opts.properties.show&&this.opts.properties.id&&void 0!==o&&""!==o&&setTimeout(t.proxy(function(){var t=this.opts.properties.classname&&void 0!==n&&""!==n?this.properties.labelClass.innerWidth():-3;this.properties.labelId.css({zIndex:i,top:e.top-13,left:e.left+t}).show().text("#"+o)},this),10)},showOnClickClass:function(e,i){var n=t(this.properties.block).attr("class");return this.opts.properties.show&&this.opts.properties.classname&&void 0!==n&&""!==n&&this.properties.labelClass.css({zIndex:i,top:e.top-13,left:e.left-3}).show().text(n),n},hideOnBlur:function(t){t.target!==this.properties.block&&(this.properties.hideOnBlurId(),this.properties.hideOnBlurClass())},hideOnBlurId:function(){this.opts.properties.show&&this.opts.properties.id&&this.properties.labelId.css("z-index",99).hide()},hideOnBlurClass:function(){this.opts.properties.show&&this.opts.properties.classname&&this.properties.labelClass.css("z-index",99).hide()}}}}(jQuery),$.Redactor.prototype.redo=function(){return{langs:{de:{redo:"Wiederholen"},en:{redo:"Redo"}},init:function(){var t=this.button.add("redo",this.lang.get("redo"));this.button.setIcon(t,'<i class="fa fa-repeat"></i>'),this.button.addCallback(t,this.buffer.redo)}}},function(t){t.Redactor.prototype.source=function(){return{init:function(){var e=this.button.add("html","HTML");this.button.setIcon(e,'<i class="fa fa-code"></i>'),this.button.addCallback(e,this.source.toggle);var i={width:"100%",margin:"0",background:"#1d1d1d","box-sizing":"border-box",color:"#ccc","font-size":"15px",outline:"none",padding:"20px","line-height":"24px","font-family":'Consolas, Menlo, Monaco, "Courier New", monospace'};this.source.$textarea=t("<textarea />"),this.source.$textarea.css(i).hide(),"textarea"===this.opts.type?this.core.box().append(this.source.$textarea):this.core.box().after(this.source.$textarea),this.core.element().on("destroy.callback.redactor",t.proxy(function(){this.source.$textarea.remove()},this))},toggle:function(){this.source.$textarea.hasClass("open")?this.source.hide():(this.source.show(),this.source.$textarea.on("keyup.redactor-source",t.proxy(function(){var t=this.source.$textarea.val();this.core.callback("change",t)},this)))},setCaretOnShow:function(){this.source.offset=this.offset.get();t(window).scrollTop(),this.core.editor().innerWidth(),this.core.editor().innerHeight();this.source.start=0,this.source.end=0;var e=t("<div/>").append(t.parseHTML(this.core.editor().html(),document,!0)),i=e.find("span.redactor-selection-marker");if(i.length>0){var n=e.html().replace(/&amp;/g,"&");1===i.length?(this.source.start=this.utils.strpos(n,e.find("#selection-marker-1").prop("outerHTML")),this.source.end=this.source.start):2===i.length&&(this.source.start=this.utils.strpos(n,e.find("#selection-marker-1").prop("outerHTML")),this.source.end=this.utils.strpos(n,e.find("#selection-marker-2").prop("outerHTML"))-e.find("#selection-marker-1").prop("outerHTML").toString().length)}},setCaretOnHide:function(t){if(this.source.start=this.source.$textarea.get(0).selectionStart,this.source.end=this.source.$textarea.get(0).selectionEnd,this.source.start>this.source.end&&this.source.end>0){var e=this.source.end,i=this.source.start;this.source.start=e,this.source.end=i}if(this.source.start=this.source.enlargeOffset(t,this.source.start),this.source.end=this.source.enlargeOffset(t,this.source.end),t=t.substr(0,this.source.start)+this.marker.html(1)+t.substr(this.source.start),this.source.end>this.source.start){var n=this.marker.html(1).toString().length;t=t.substr(0,this.source.end+n)+this.marker.html(2)+t.substr(this.source.end+n)}return t},hide:function(){this.source.$textarea.removeClass("open").hide(),this.source.$textarea.off(".redactor-source");var t=this.source.$textarea.val();t=this.paragraphize.load(t),t=(t=this.source.setCaretOnHide(t)).replace('&amp;<span id="selection-marker-1" class="redactor-selection-marker">​</span>','<span id="selection-marker-1" class="redactor-selection-marker">​</span>&amp;'),this.code.start(t),this.button.enableAll(),this.core.editor().show().focus(),this.selection.restore(),this.placeholder.enable(),this.core.callback("visual")},show:function(){this.selection.save(),this.source.setCaretOnShow();var e=this.core.editor().height(),i=this.code.get();i=this.core.callback("source",i),this.core.editor().hide(),this.button.disableAll("html"),this.source.$textarea.val(i).height(e).addClass("open").show(),this.source.$textarea.on("keyup.redactor-source",t.proxy(function(){"textarea"===this.opts.type&&this.core.textarea().val(this.source.$textarea.val())},this)),this.marker.remove(),t(window).scrollTop(scroll),this.source.$textarea[0].setSelectionRange&&this.source.$textarea[0].setSelectionRange(this.source.start,this.source.end),this.source.$textarea[0].scrollTop=0,setTimeout(t.proxy(function(){this.source.$textarea.focus()},this),0)},enlargeOffset:function(t,e){var i=t.length,n=0;if(">"===t[e])n++;else for(var o=e;o<=i&&(n++,">"!==t[o]);o++)if("<"===t[o]||o===i){n=0;break}return e+n}}}}(jQuery),$.Redactor.prototype.styles=function(){return{langs:{de:{styles:"Styles"},en:{styles:"Styles"}},init:function(){if(this.opts.styles){var t=this.opts.styles,e=this,i={};$.each(t,function(t,n){i[n[0]]={title:n[1],func:function(){e.styles.set(n[0])}}});var n=this.button.add("styles",this.lang.get("styles"));this.button.setIcon(n,'<i class="fa fa-pencil-square-o"></i>'),this.button.addDropdown(n,i)}},set:function(t){this.inline.format(t)}}},$.Redactor.prototype.sub=function(){return{langs:{de:{sub:"Tiefgestellt"},en:{sub:"Sub"}},init:function(){var t=this.button.add("sub",this.lang.get("sub"));this.button.setIcon(t,'<i class="fa fa-subscript"></i>'),this.button.addCallback(t,this.sub.set)},set:function(){this.inline.format("sub")}}},$.Redactor.prototype.sup=function(){return{langs:{de:{sup:"Hochgestellt"},en:{sup:"Sup"}},init:function(){var t=this.button.add("sup",this.lang.get("sup"));this.button.setIcon(t,'<i class="fa fa-superscript"></i>'),this.button.addCallback(t,this.sup.set)},set:function(){this.inline.format("sup")}}},function(t){t.Redactor.prototype.table=function(){return{langs:{de:{table:"Tabelle","insert-table":"Tabelle einfügen","insert-row-above":"Zeile oberhalb einfügen","insert-row-below":"Zeile unterhalb einfügen","insert-column-left":"Spalte links einfügen","insert-column-right":"Spalte rechts einfügen","add-head":"Kopfzeile hinzufügen","delete-head":"Kopfzeile löschen","delete-column":"Spalte löschen","delete-row":"Zeile löschen","delete-table":"Tabelle löschen"},en:{table:"Table","insert-table":"Insert table","insert-row-above":"Insert row above","insert-row-below":"Insert row below","insert-column-left":"Insert column left","insert-column-right":"Insert column right","add-head":"Add head","delete-head":"Delete head","delete-column":"Delete column","delete-row":"Delete row","delete-table":"Delete table"}},init:function(){var t={};t.insert_table={title:this.lang.get("insert-table"),func:this.table.insert,observe:{element:"table",in:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.insert_row_above={title:this.lang.get("insert-row-above"),func:this.table.addRowAbove,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.insert_row_below={title:this.lang.get("insert-row-below"),func:this.table.addRowBelow,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.insert_column_left={title:this.lang.get("insert-column-left"),func:this.table.addColumnLeft,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.insert_column_right={title:this.lang.get("insert-column-right"),func:this.table.addColumnRight,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.add_head={title:this.lang.get("add-head"),func:this.table.addHead,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.delete_head={title:this.lang.get("delete-head"),func:this.table.deleteHead,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.delete_column={title:this.lang.get("delete-column"),func:this.table.deleteColumn,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.delete_row={title:this.lang.get("delete-row"),func:this.table.deleteRow,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},t.delete_table={title:this.lang.get("delete-table"),func:this.table.deleteTable,observe:{element:"table",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}};var e=this.button.add("table",this.lang.get("table"));this.button.setIcon(e,'<i class="fa fa-table"></i>'),this.button.addDropdown(e,t)},insert:function(){if(!this.table.getTable()){this.placeholder.hide();for(var e=t("<div>"),i=t("<table />"),n=0;n<2;n++){for(var o=t("<tr>"),s=0;s<3;s++){var l=t("<td>"+this.opts.invisibleSpace+"</td>");0===n&&0===s&&l.append(this.marker.get()),t(o).append(l)}i.append(o)}e.append(i);var r=e.html();this.buffer.set();var a=this.selection.current();0!==t(a).closest("li",this.core.editor().get(0)).length?t(a).closest("ul, ol").first().after(r):(this.air.collapsed(),this.insert.html(r)),this.selection.restore(),this.core.callback("insertedTable",i)}},getTable:function(){var e=t(this.selection.current()).closest("table");return!!this.utils.isRedactorParent(e)&&(0!==e.size()&&e)},restoreAfterDelete:function(t){this.selection.restore(),t.find("span.redactor-selection-marker").remove()},deleteTable:function(){var t=this.table.getTable();if(t){this.buffer.set();var e=t.next();this.opts.linebreaks||0===e.length?this.caret.after(t):this.caret.start(e),t.remove()}},deleteRow:function(){var e=this.table.getTable();if(e){var i=t(this.selection.current());this.buffer.set();var n=i.closest("tr"),o=n.prev().length?n.prev():n.next();if(o.length){var s=o.children("td, th").first();s.length&&s.prepend(this.marker.get())}n.remove(),this.table.restoreAfterDelete(e)}},deleteColumn:function(){var e=this.table.getTable();if(e){this.buffer.set();var i=t(this.selection.current()).closest("td, th")[0].cellIndex;e.find("tr").each(t.proxy(function(e,n){var o=t(n),s=i-1<0?i+1:i-1;0===e&&o.find("td, th").eq(s).prepend(this.marker.get()),o.find("td, th").eq(i).remove()},this)),this.table.restoreAfterDelete(e)}},addHead:function(){var e=this.table.getTable();if(e)if(this.buffer.set(),0===e.find("thead").size()){var i=e.find("tr").first().clone();i.find("td").replaceWith(t.proxy(function(){return t("<th>").html(this.opts.invisibleSpace)},this)),$thead=t("<thead></thead>").append(i),e.prepend($thead)}else this.table.deleteHead()},deleteHead:function(){var t=this.table.getTable();if(t){var e=t.find("thead");0!==e.size()&&(this.buffer.set(),e.remove())}},addRowAbove:function(){this.table.addRow("before")},addRowBelow:function(){this.table.addRow("after")},addColumnLeft:function(){this.table.addColumn("before")},addColumnRight:function(){this.table.addColumn("after")},addRow:function(e){if(this.table.getTable()){this.buffer.set();var i=t(this.selection.current()).closest("tr"),n=i.clone();n.find("th").replaceWith(function(){var e=t("<td>");return e[0].attributes=this.attributes,e.append(t(this).contents())}),n.find("td").html(this.opts.invisibleSpace),"after"===e?i.after(n):i.before(n)}},addColumn:function(e){var i=this.table.getTable();if(i){var n=0,o=t(this.selection.current());this.buffer.set();var s=o.closest("tr"),l=o.closest("td, th");s.find("td, th").each(t.proxy(function(e,i){t(i)[0]===l[0]&&(n=e)},this)),i.find("tr").each(t.proxy(function(i,o){var s=t(o).find("td, th").eq(n),l=s.clone();l.html(this.opts.invisibleSpace),"after"===e?s.after(l):s.before(l)},this))}}}}}(jQuery),$.Redactor.prototype.telephonelink=function(){return{langs:{de:{telephonelink:"Telefon Link",telephonelink_linktext:"Linktext",telephonelink_phonelink:"Telefonnummer",telephonelink_insert:"Einfügen",telephonelink_abort:"Abbrechen"},en:{telephonelink:"Telephone Link",telephonelink_linktext:"Linktext",telephonelink_phonelink:"Telephone Number",telephonelink_insert:"Insert",telephonelink_abort:"Abort"}},getTemplate:function(){var t="";return t+='<div class="modal-section" id="redactor-modal-telephonelink">',""==this.selection.text()&&(t+="  <section>",t+='    <label for="telephonelink_linktext">'+this.lang.get("telephonelink_linktext")+"</label>",t+='    <input type="text" id="telephonelink_linktext">',t+="  </section>"),t+="  <section>",t+='    <label for="telephonelink_phonelink">'+this.lang.get("telephonelink_phonelink")+"</label>",t+='    <input type="text" id="telephonelink_phonelink">',t+="  </section>",t+="  <section>",t+='    <button id="redactor-modal-button-action">'+this.lang.get("telephonelink_insert")+"</button>",t+='    <button id="redactor-modal-button-cancel">'+this.lang.get("telephonelink_abort")+"</button>",t+="  </section>",t+="</div>",String()+t},init:function(){var t=this.button.add("telephonelink",this.lang.get("telephonelink"));this.button.setIcon(t,'<i class="fa fa-link"></i>'),this.button.addCallback(t,this.telephonelink.show)},show:function(){this.modal.addTemplate("telephonelink",this.telephonelink.getTemplate()),this.modal.load("telephonelink",this.lang.get("telephonelink"),600),this.modal.getActionButton().on("click",this.telephonelink.set),this.modal.show(),setTimeout(function(){0!=$("#telephonelink_linktext").length?document.getElementById("telephonelink_linktext").focus():document.getElementById("telephonelink_phonelink").focus()},1)},set:function(){var t=$("#telephonelink_linktext").val(),e=$("#telephonelink_phonelink").val();this.modal.close();var i=this.selection.text();if(""!=i)t=i;this.insert.html('<a href="tel:'+e+'">'+t+"</a>")}}},jQuery.Redactor.prototype.textdirection=function(){return{langs:{de:{"change-text-direction":"RTL-LTR","left-to-right":"Links nach rechts","right-to-left":"Rechts nach links"},en:{"change-text-direction":"RTL-LTR","left-to-right":"Left to Right","right-to-left":"Right to Left"}},init:function(){var t=this,e={};e.ltr={title:t.lang.get("left-to-right"),func:t.textdirection.setLtr},e.rtl={title:t.lang.get("right-to-left"),func:t.textdirection.setRtl};var i=this.button.add("textdirection",this.lang.get("change-text-direction"));this.button.addDropdown(i,e)},setRtl:function(){this.buffer.set(),this.block.addAttr("dir","rtl")},setLtr:function(){this.buffer.set(),this.block.removeAttr("dir")}}},$.Redactor.prototype.underline=function(){return{langs:{de:{underline:"Unterstrichen"},en:{underline:"Underline"}},init:function(){var t=this.button.add("underline",this.lang.get("underline"));this.button.setIcon(t,'<i class="fa fa-underline"></i>'),this.button.addCallback(t,this.underline.set)},set:function(){this.inline.format("underline")}}},$.Redactor.prototype.undo=function(){return{langs:{de:{undo:"Rückgängig"},en:{undo:"Undo"}},init:function(){var t=this.button.add("undo",this.lang.get("undo"));this.button.setIcon(t,'<i class="fa fa-undo"></i>'),this.button.addCallback(t,this.buffer.undo)}}},$.Redactor.prototype.unorderedlist=function(){return{langs:{de:{unorderedlist:"Unsortierte Liste"},en:{unorderedlist:"Unordered list"}},init:function(){var t=this.button.add("unorderedlist",this.lang.get("unorderedlist"));this.button.setIcon(t,'<i class="fa fa-list-ul"></i>'),this.button.addCallback(t,this.unorderedlist.set)},set:function(){this.list.toggle("unorderedlist")}}};